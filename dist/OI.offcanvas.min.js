/* OI-OffCanvas v0.9.1 
 * Copyright (c) 2015 Opportunity International 
 */
!function(a){a.fn.offcanvas=function(b){return this.each(function(){a(this).data("offcanvas")||a(this).data("offcanvas",new OffCanvas(a(this),b))})}}(jQuery);var OffCanvas=function(a,b){function c(){$(document).bind("keyup.offcanvas",function(a){"27"==a.keyCode&&i.close()}),i.elem.find(".close").bind("click.offcanvas",i.close),i.options.overlay.bind("click.offcanvas",i.close)}function d(){$(document).unbind("keyup.offcanvas"),i.elem.find(".close").unbind("click.offcanvas"),i.options.overlay.unbind("click.offcanvas")}function e(){"open"===i.status&&null!==i.options.breakpoint&&$(window).width()>i.options.breakpoint&&i.close()}function f(){$(".fixed").each(function(){var a={leftOrRight:null,initialValue:null};"auto"!==$(this).css("left")?(a.leftOrRight="left",a.initialValue=parseInt($(this).css("left"))):"auto"!==$(this).css("right")&&(a.leftOrRight="right",a.initialValue=parseInt($(this).css("right"))),$(this).data("fixedInfo",a)})}function g(){i.elem.css({width:i.width+"px",right:-i.width+"px"}),"open"===i.status&&i.openTo(i.width,0)}function h(){switch(typeof i.options.width){case"function":i.width=i.options.width.call(i,i.elem);break;case"string":i.width=parseInt(i.options.width)/100*j.width();break;case"number":i.width=i.options.width}}var i=this,j=$("body");this.elem=$(a),this.status="closed",this.offset=0,this.width=null,this.options=$.extend({trigger:$(".offcanvas-trigger"),overlay:$(".offcanvas-overlay"),breakpoint:null,width:300,transitionDuration:500,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},b),this.open=function(){return i.options.beforeOpen.call(i,i.elem)===!1?!1:(j.addClass("no-scroll"),i.options.overlay.addClass("animate"),i.elem.addClass("show"),setTimeout(function(){i.options.overlay.addClass("show"),i.openTo(i.width,i.options.transitionDuration),i.offset=i.width},1),i.status="open",c(),void setTimeout(function(){i.options.afterOpen.call(i,i.elem)},i.options.transitionDuration))},this.close=function(){return i.options.beforeClose.call(i,i.elem)===!1?!1:(j.removeClass("no-scroll"),i.options.overlay.removeClass("show"),i.openTo(0,i.options.transitionDuration),i.offset=0,i.status="closed",d(),void setTimeout(function(){i.options.overlay.removeClass("animate"),i.elem.removeClass("show"),i.options.afterClose.call(i,i.elem)},i.options.transitionDuration))},this.options.trigger.on("click",function(){"open"===i.status?i.close():i.open()}),this.openTo=function(a,b){j.css({right:a+"px","transition-duration":b+"ms","-webkit-transition-duration":b+"ms"}),$(".fixed").each(function(){var c=$(this).data("fixedInfo");"left"===c.leftOrRight?$(this).css("left",c.initialValue-a):"right"===c.leftOrRight&&$(this).css("right",c.initialValue+a),$(this).css({"transition-duration":b+"ms","-webkit-transition-duration":b+"ms"})}),i.elem.css({right:a-i.width+"px","transition-duration":b+"ms","-webkit-transition-duration":b+"ms"})},f(),h(),g(),$(window).on("resize.offcanvas",function(){e(),h(),g()})};